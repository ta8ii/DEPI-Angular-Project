<div class="student-my-courses-page">
  <div class="container py-5">
    <div class="page-header">
      <h1 class="page-title">My Courses</h1>
      <p class="page-subtitle">Track your learning progress</p>
    </div>

    <div *ngIf="error" class="alert alert-danger">
      <i class="fas fa-exclamation-circle"></i>
      {{ error }}
      <button (click)="loadCourses()" class="btn btn-sm btn-outline-danger ms-2">Retry</button>
    </div>

    <div *ngIf="loading" class="loading-state">
      <i class="fas fa-spinner fa-spin"></i>
      <span>Loading courses...</span>
    </div>

    <div *ngIf="!loading && enrolledCourses.length === 0" class="empty-state">
      <i class="fas fa-book"></i>
      <h3>No enrolled courses yet</h3>
      <p>Start learning by enrolling in a course</p>
      <a routerLink="/courses" class="btn btn-primary">Browse Courses</a>
    </div>

    <div *ngIf="!loading && enrolledCourses.length > 0" class="courses-list">
      <div *ngFor="let course of enrolledCourses" class="course-item">
        <div class="course-thumbnail">
          <i class="fas fa-book"></i>
        </div>
        <div class="course-info">
          <h3 class="course-title">{{ course.title }}</h3>
          <p class="course-description">{{ course.description | slice : 0 : 100 }}</p>
          <div class="course-progress">
            <div class="progress-bar-wrapper">
              <div class="progress-bar" [style.width.%]="course.progress"></div>
            </div>
            <span class="progress-text">{{ course.progress }}% Complete</span>
          </div>
        </div>
        <div class="course-actions">
          <button
            (click)="continueCourse(course.id)"
            [disabled]="navigatingCourseId === course.id"
            class="btn btn-primary"
          >
            <i
              [ngClass]="
                navigatingCourseId === course.id ? 'fas fa-spinner fa-spin' : 'fas fa-play'
              "
              class="me-2"
            ></i>
            {{ navigatingCourseId === course.id ? 'Loading...' : 'Continue' }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
